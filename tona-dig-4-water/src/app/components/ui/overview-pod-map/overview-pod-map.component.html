<div class="map-container">
    <div
        *ngFor="let room of expedition.pod.rooms; let i = index"
        (dragenter)="onDragEnter(room.name)"
        [ngClass]="'room '+room.name"
    >
        <div class="room-header">
            <div class="status">
                <app-svg *ngIf="room.status === 'acid'" named="status-acid" style="fill:var(--color-accent)"></app-svg>
                <app-svg *ngIf="room.status === '' && expedition.hullDiagnosticPanelCrankLevel[0] > 0 && expedition.nextRoomsEventTargeted[i] === ''" named="status-clear" style="fill:gray"></app-svg>
                <app-svg *ngIf="room.status === 'fan'" named="status-fan" style="fill:var(--color-accent)"></app-svg>
                <app-svg *ngIf="room.status === 'fire'" named="status-fire" style="fill:var(--color-accent)"></app-svg>
                <app-svg *ngIf="room.status === 'glue'" named="status-glue" style="fill:var(--color-accent)"></app-svg>
                <app-svg *ngIf="room.status === '' && expedition.hullDiagnosticPanelCrankLevel[0] > 0 && expedition.nextRoomsEventTargeted[i] === 'x'" named="status-target" style="fill:var(--color-accent)"></app-svg>
            </div>
            <h3 [ngClass]="user.majagaba.room === room.name ? 'current-room' : ''">
                {{ translateName(room.name) }}
            </h3>
            <div class="health">
                <app-svg *ngFor="let x of [].constructor(room.health)" named="shield-full"></app-svg>
                <app-svg *ngFor="let x of [].constructor(room.maxHealth-room.health)" named="shield-empty"></app-svg>
            </div>
        </div>

        <div class="crew-spotted">
            <div
                *ngFor="let userOfExpedition of expedition.crew"
                [outerHTML]='userOfExpedition.majagaba.room === room.name ?
                "<img src="+userOfExpedition.profilePicture+" alt="+userOfExpedition.pseudo+" class=\"profile-picture "+userOfExpedition.majagaba.job+"\">"
                : ""'
            ></div>
        </div>
    </div>
</div>